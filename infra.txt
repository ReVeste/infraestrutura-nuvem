cat .aws/credentials

aws configure

aws configure set aws_session_token 

#Atualizar um dockerfile
docker build -t [nome] .
docker tag [nome] [nome/repository:tag]
docker push [nome/repository:tag]

docker build -t earth-moon-back-end .  
docker tag earth-moon-back-end mirandark/earth-moon-back-end:[versão]
docker push mirandark/earth-moon-back-end:[versão]

docker build -t earth-moon-front-end .  
docker tag earth-moon-front-end mirandark/earth-moon-front-end:[versão]
docker push mirandark/earth-moon-front-end:[versão]

terraform init

# importar ip
terraform import aws_eip.ip_instancia-publica [id elastic ip pública]
terraform import aws_eip.ip_instancia-privada [id elastic ip privada]

#Iniciar um dockerfile
docker run -p 8080:8080 -d mirandark/earth-moon-back-end:latest
docker run -p 3000:3000 -d mirandark/earth-moon-front-end:v1.0


scp -i keys/earth_moon.pem keys/earth_moon.pem ubuntu@107.23.40.115:/home/ubuntu/.ssh/earth_moon.pem

#Testes de requisições
curl -v localhost:8080/usuarios/1

curl -v http://10.0.1.5:8080/usuarios/1

reveste
Re01020304